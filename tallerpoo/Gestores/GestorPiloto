import java.io.*;
import java.util.*;

public class GestorPiloto {

    public static List<Piloto> leerPilotosDesdeCSV(String path) {
        List<Piloto> pilotos = new ArrayList<>();

        try (BufferedReader br = new BufferedReader(new FileReader(path))) {
            String linea;
            br.readLine(); // Saltear encabezado

            while ((linea = br.readLine()) != null) {
                String[] valores = linea.split(",");

                String dni = valores[0].trim();
                String nombre = valores[1].trim();
                String apellido = valores[2].trim();
                int numeroCompetencia = Integer.parseInt(valores[3].trim());
                int victorias = Integer.parseInt(valores[4].trim());
                int polePosition = Integer.parseInt(valores[5].trim());
                int vueltasRapidas = Integer.parseInt(valores[6].trim());
                int podios = Integer.parseInt(valores[7].trim());

                Piloto p = new Piloto(dni, nombre, apellido, numeroCompetencia, victorias, polePosition, vueltasRapidas, podios);
                pilotos.add(p);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }

        return pilotos;
    }
}
