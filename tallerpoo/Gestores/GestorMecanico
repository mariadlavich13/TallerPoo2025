import java.io.*;
import java.util.*;

public class GestorMecanico {
    public static List<Mecanico> leerMecanicosDesdeCSV(String path) {
        List<Mecanico> mecanicos = new ArrayList<>();

        try (BufferedReader br = new BufferedReader(new FileReader(path))) {
            String linea;
            br.readLine(); // Saltear encabezado

            while ((linea = br.readLine()) != null) {
                String[] valores = linea.split(",");

                String dni = valores[0].trim();
                String nombre = valores[1].trim();
                String apellido = valores[2].trim();
                String pais = valores[3].trim(); // Ver punto 4
                Especialidad esp = Especialidad.valueOf(valores[4].trim());
                int aniosExperiencia = Integer.parseInt(valores[5].trim());

                Mecanico m = new Mecanico(dni, nombre, apellido, pais, esp, aniosExperiencia, new ArrayList<>());
                mecanicos.add(m);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }

        return mecanicos;
    }
}
