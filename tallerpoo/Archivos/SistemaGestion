package tallerpoo.archivos;

public class SistemaGestion {
    private List<Pais> paises;
    private List<Auto> autos;
    private List<Carrera> carreras;
    private List<Circuito> circuitos;
    private List<Escuderia> escuderias;
    private List<Mecanico> mecanicos;
    private List<Piloto> pilotos;
    private List<ResultadoCarrera> resultadosCarreras;

    public SistemaGestion() {
        this.paises = new ArrayList<>();
        this.autos = new ArrayList<>();
        this.carreras = new ArrayList<>();
        this.circuitos = new ArrayList<>();
        this.escuderias = new ArrayList<>();
        this.mecanicos = new ArrayList<>();
        this.pilotos = new ArrayList<>();
        this.resultadosCarreras = new ArrayList<>();
    }
    
    
    public void cargarDatos() {
        // Lógica para cargar datos desde archivos o base de datos
        String pathPaises = "Datos/DatosPaises.csv";
        String pathAutos = "Datos/DatosAutos.csv";
        String pathCarreras = "Datos/DatosCarreras.csv";
        String pathCircuitos = "Datos/DatosCircuitos.csv";
        String pathEscuderias = "Datos/DatosEscuderias.csv";
        String pathMecanicos = "Datos/DatosMecanicos.csv";
        String pathPilotos = "Datos/DatosPilotos.csv";

        // 1. Cargar entidades SIN dependencias
        this.paises = GestorArchivos.leerPaisesDesdeCSV(pathPaises);
        this.escuderias = GestorArchivos.leerEscuderiasDesdeCSV(pathEscuderias);

        // 2. Cargar entidades que dependen de País o Escudería
        // (Piloto, Mecanico y Circuito dependen de 'paises')
        this.pilotos = GestorArchivos.leerPilotosDesdeCSV(pathPilotos, this.paises);
        this.mecanicos = GestorArchivos.leerMecanicosDesdeCSV(pathMecanicos, this.paises);
        this.circuitos = GestorArchivos.leerCircuitosDesdeCSV(pathCircuitos, this.paises);
        
        // ¡AQUÍ EL CAMBIO! Autos depende de Escuderias (como te mostré en GestorArchivos)
        this.autos = GestorArchivos.leerAutosDesdeCSV(pathAutos, this.escuderias);

        // 3. Cargar entidades que dependen de las anteriores
        // (Carreras depende de Circuitos)
        this.carreras = GestorArchivos.leerCarrerasDesdeCSV(pathCarreras, this.circuitos);
    }

    //GETTERS
    public List<Pais> getPaises() {
        return paises;
    }
    public List<Auto> getAutos() {
        return autos;
    }
    public List<Carrera> getCarreras() {
        return carreras;
    }
    public List<Circuito> getCircuitos() {
        return circuitos;
    }
    public List<Escuderia> getEscuderias() {
        return escuderias;
    }
    public List<Mecanico> getMecanicos() {
        return mecanicos;
    }
    public List<Piloto> getPilotos() {
        return pilotos;
    }
    public List<ResultadoCarrera> getResultadosCarreras() {
        return resultadosCarreras;
    }
    public void agregarPais(Pais pais) {
        this.paises.add(pais);
    }
    public void agregarMecanico(Mecanico mecanico) {
        this.mecanicos.add(mecanico);
    }
    public void agregarPiloto(Piloto piloto) {
        this.pilotos.add(piloto);
    }
    public void agregarEscuderia(Escuderia escuderia) {
        this.escuderias.add(escuderia);
    }
    public void agregarAuto(Auto auto) {
        this.autos.add(auto);
    }
    public void agregarCircuito(Circuito circuito) {
        this.circuitos.add(circuito);
    }
    public void agregarCarrera(Carrera carrera) {
        this.carreras.add(carrera);
    }
    public void agregarResultadoCarrera(ResultadoCarrera resultado) {
        this.resultadosCarreras.add(resultado);
    }
}